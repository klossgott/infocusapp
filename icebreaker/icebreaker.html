<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Icebreaker Widget</title>
    <!-- Include Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400&display=swap">
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        body {
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
        }
        #widget-container {
            position: relative;
            width: 320px; /* Fixed width for 16:9 aspect ratio */
            height: 180px; /* Fixed height for 16:9 aspect ratio */
            background: transparent;
            overflow: hidden; /* Ensure content stays within the container */
        }
        #widget-image {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 50%; /* Start with reduced size */
            height: auto;
            transform: translate(-50%, -50%);
            cursor: pointer;
            transition: filter 0.3s;
            transform-origin: center center; /* Ensure scaling happens from the center */
        }
        /* Mouseover effect */
        #widget-image:hover {
            filter: brightness(1.2);
        }
        /* Exploding animation */
        .explode {
            animation: explodeAndFade 0.3s forwards; /* Shortened duration */
        }
        @keyframes explodeAndFade {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1.5); /* Adjusted final scale */
            }
        }
        #icebreaker-card {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 320px; /* Same as container width */
            height: 180px; /* Same as container height */
            background-color: #F8F0E3; /* Updated off-white background */
            border-radius: 15px; /* Restored rounded corners */
            padding: 30px; /* Increased padding for more white space */
            box-sizing: border-box;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            animation-duration: 0.5s;
            animation-fill-mode: forwards;
            overflow: hidden;
            transform: translate(-50%, -50%); /* Center the card */
            transform-origin: center center; /* Ensure flip happens around center */
        }
        #icebreaker-text {
            font-family: 'Montserrat', Arial, sans-serif;
            font-size: 1em;
            color: #333;
            line-height: 1.5;
            font-weight: bold;
            letter-spacing: 0.05em; /* Increase kerning by 5% */
            margin: 0;
            background: transparent;
        }
        /* Animations for card */
        @keyframes fadeInFlip {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) rotateY(-90deg);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) rotateY(0deg);
            }
        }
        @keyframes fadeOutFlip {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) rotateY(0deg);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) rotateY(90deg);
            }
        }
    </style>
</head>
<body>

<div id="widget-container">
    <img id="widget-image" src="ice-cubes.png" alt="Ice Cubes">
    <div id="icebreaker-card">
        <div id="icebreaker-text"></div>
    </div>
</div>

<!-- Audio element for the ice breaking sound -->
<audio id="ice-sound" src="ice-10-104149.mp3" preload="auto"></audio>

<script>
    const prompts = [
        "What’s the weirdest movie you’ve ever seen?",
        "Is there a pizza topping that most people hate but you secretly love?",
        "Window seat or aisle seat?",
        "What’s the funniest thing you’ve read online recently?",
        "In your opinion, what’s the funniest word in the English language?",
        "Is there a non-dairy item you think would make a great alternative milk?",
        "If you were a sitcom character, what would be your catchphrase?",
        "Who would win in an arm wrestle, you or the person next to you?",
        "If you could be invisible for a day, what would you do?",
        "What’s your most embarrassing childhood memory?",
        "What’s the cringiest dad joke you know?",
        "What’s the most embarrassing outfit you’ve ever worn?",
        "What’s the cringiest thing you’ve ever shared on social media?",
        "Do you have an embarrassing nickname? What is it?",
        "What’s your favorite, kind of obscure meme?",
        "What’s the funniest dance move you can come up with on the spot?",
        "What’s the best Wi-Fi name you’ve ever seen?",
        "What’s the most awkward interaction you’ve ever had with another person?",
        "What’s the worst thing you’ve ever smelled?",
        "Do you have a strange nervous habit?",
        "Do you know a niche joke that probably only you find funny?",
        "Do you have a funny habit you do at home while no one is watching?",
        "If you were on AIM in the early 2000s, what was your screen name?",
        "What’s the funniest song you know all the lyrics to?",
        "Is cereal a soup? Why or why not?",
        "Is soup a drink or a meal?",
        "Is there a conspiracy theory you kind of believe to be true?",
        "What’s the most random fact you know?",
        "What’s something that’s not illegal that feels illegal?",
        "What funny saying would be written on your tombstone to describe the life you lived?",
        "If you were sent back in time 1,000 years, how would you prove that you’re from the future?",
        "What’s your funniest high school memory?",
        "Serious question: How long would you survive a zombie apocalypse?",
        "What’s the most ridiculous thing you would buy if you were given a million dollars?",
        "If your pet could talk, what would they say?",
        "What funny question would you ask me to make me laugh?",
        "What’s the most gimmicky home gadget you own?",
        "Which character from 'Friends' are you?",
        "If you could only listen to one song for the rest of your life, which would it be?",
        "What day should be a holiday that isn’t?",
        "Is a hot dog a sandwich?",
        "Is ravioli a dumpling?",
        "What’s the weirdest fashion trend you’ve tried?",
        "What haircut of yours would you never recreate?",
        "If you had to prank call someone right now, what would you say?",
        "What’s your favorite pun?",
        "If you could eliminate one food from existence, which one would you choose?",
        "If you could make a new ice cream flavor, what would it be?",
        "What's the wackiest thing you believed as a kid?",
        "What's the strangest thing you've ever eaten, and would you eat it again?",
        "If animals could talk, which would be the funniest?",
        "What useless superpower do you want?",
        "What city kind of annoys you?",
        "What TikTok trend do you dislike?",
        "If you could only eat one condiment for the rest of your life, what would it be?",
        "What's the weirdest thing you've ever done while alone in your car?",
        "What’s your most annoying habit?",
        "What’s your most boring hobby?",
        "What’s a weird dream you’ve had that you wish were true?",
        "What slang word or phrase do you hope we retire soon?",
        "If you could have an animal as a sidekick, which would you choose?"
    ];

    // Image source
    const initialImageSrc = "ice-cubes.png";
    const clickImageSrc = "broken-ice.png";

    const widgetImage = document.getElementById('widget-image');
    const icebreakerCard = document.getElementById('icebreaker-card');
    const icebreakerText = document.getElementById('icebreaker-text');
    const iceSound = document.getElementById('ice-sound');

    // Set initial image source
    widgetImage.src = initialImageSrc;

    function getRandomPrompt() {
        const randomIndex = Math.floor(Math.random() * prompts.length);
        return prompts[randomIndex];
    }

    widgetImage.addEventListener('click', () => {
        // Play random portion of the ice sound
        playRandomIceSound();

        // Change to broken ice image
        widgetImage.src = clickImageSrc;

        // Add class to trigger exploding animation
        widgetImage.classList.add('explode');

        // Listen for animation end
        widgetImage.addEventListener('animationend', onExplodeAnimationEnd, { once: true });
    });

    function onExplodeAnimationEnd() {
        // Hide the image
        widgetImage.style.display = 'none';
        // Remove the explode class
        widgetImage.classList.remove('explode');
