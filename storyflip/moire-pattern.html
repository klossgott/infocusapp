<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: black;
    }

    .container {
      width: 100vw;
      height: 100vh;
      position: relative;
    }

    .moire {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100vmin;
      height: 100vmin;
      transform: translate(-50%, -50%);
      background: 
        repeating-linear-gradient(
          calc(var(--angle1, 45) * 1deg),
          transparent,
          transparent 2px,
          white 2px,
          white 4px
        ),
        repeating-linear-gradient(
          calc(var(--angle2, -45) * 1deg),
          transparent,
          transparent 2px,
          white 2px,
          white 4px
        );
      animation: rotateMoire 20s linear infinite;
    }

    .kaleidoscope {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      transform-origin: center;
      animation: rotateKaleidoscope 30s linear infinite;
    }

    .mirror {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0.5;
      mix-blend-mode: difference;
      animation: pulsate 15s ease-in-out infinite;
    }

    @keyframes rotateMoire {
      0% {
        --angle1: 45;
        --angle2: -45;
      }
      100% {
        --angle1: 405;
        --angle2: 315;
      }
    }

    @keyframes rotateKaleidoscope {
      0% { transform: rotate(0deg) scale(1); }
      50% { transform: rotate(180deg) scale(1.5); }
      100% { transform: rotate(360deg) scale(1); }
    }

    @keyframes pulsate {
      0% { transform: scale(1); opacity: 0.5; }
      50% { transform: scale(1.2); opacity: 0.7; }
      100% { transform: scale(1); opacity: 0.5; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="moire"></div>
    <div class="kaleidoscope">
      <div class="mirror"></div>
      <div class="mirror" style="transform: rotate(60deg)"></div>
      <div class="mirror" style="transform: rotate(120deg)"></div>
      <div class="mirror" style="transform: rotate(180deg)"></div>
      <div class="mirror" style="transform: rotate(240deg)"></div>
      <div class="mirror" style="transform: rotate(300deg)"></div>
    </div>
  </div>

  <script>
    function randomizePattern() {
      const moire = document.querySelector('.moire');
      const kaleidoscope = document.querySelector('.kaleidoscope');
      
      // Randomize initial angles
      const angle1 = Math.random() * 360;
      const angle2 = Math.random() * 360;
      
      moire.style.setProperty('--angle1', angle1);
      moire.style.setProperty('--angle2', angle2);
      
      // Randomize animation durations
      const animations = document.styleSheets[0].cssRules;
      for(let rule of animations) {
        if(rule.type === CSSRule.KEYFRAMES_RULE) {
          const duration = 10 + Math.random() * 20;
          const elements = document.querySelectorAll(`*[style*="animation: ${rule.name}"]`);
          elements.forEach(el => {
            el.style.animationDuration = `${duration}s`;
          });
        }
      }
    }

    // Initial randomization
    randomizePattern();
    // Randomize every 10 seconds
    setInterval(randomizePattern, 10000);
  </script>
</body>
</html>
